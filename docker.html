<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="author" content="Romain Pellerin" />
        <meta name="keywords" content="romain pellerin, romain, pellerin, portfolio, site personnel, personal website, blog, docker, linux, container" />
        <meta name="geo.placename" content="San Francisco, California, USA" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="all" />
        <link rel="stylesheet" href="//romainpellerin.eu/theme/css/main.css" type="text/css" />
        <link rel="shortcut icon" href="//romainpellerin.eu/favicon.ico" />

        <script>
        function _dntEnabled(dnt, userAgent) {
            'use strict';

            // for old version of IE we need to use the msDoNotTrack property of navigator
            // on newer versions, and newer platforms, this is doNotTrack but, on the window object
            // Safari also exposes the property on the window object.
            var dntStatus = dnt || navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
            var ua = userAgent || navigator.userAgent;

            // List of Windows versions known to not implement DNT according to the standard.
            var anomalousWinVersions = ['Windows NT 6.1', 'Windows NT 6.2', 'Windows NT 6.3'];

            var fxMatch = ua.match(/Firefox\/(\d+)/);
            var ieRegEx = /MSIE|Trident/i;
            var isIE = ieRegEx.test(ua);
            // Matches from Windows up to the first occurance of ; un-greedily
            // http://www.regexr.com/3c2el
            var platform = ua.match(/Windows.+?(?=;)/g);

            // With old versions of IE, DNT did not exist so we simply return false;
            if (isIE && typeof Array.prototype.indexOf !== 'function') {
                return false;
            } else if (fxMatch && parseInt(fxMatch[1], 10) < 32) {
                // Can't say for sure if it is 1 or 0, due to Fx bug 887703
                dntStatus = 'Unspecified';
            } else if (isIE && platform && anomalousWinVersions.indexOf(platform.toString()) !== -1) {
                // default is on, which does not honor the specification
                dntStatus = 'Unspecified';
            } else {
                // sets dntStatus to Disabled or Enabled based on the value returned by the browser.
                // If dntStatus is undefined, it will be set to Unspecified
                dntStatus = { '0': 'Disabled', '1': 'Enabled' }[dntStatus] || 'Unspecified';
            }
            return dntStatus === 'Enabled' ? true : false;
        }
        if (!_dntEnabled()) {
            // Analytics here
        }
        </script>

        <!-- Social media -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@romainpellerin" />
        <meta name="description" content="My cheatsheet for Docker" />
        <meta property="og:image" name="twitter:image" content="//romainpellerin.eu/theme/img/romain_pellerin-1x.jpg" />
        <meta property="og:title" name="twitter:title" content="Docker - Romain Pellerin's Blog" />
        <meta property="og:description" name="twitter:description" content="My cheatsheet for Docker" />

        <title>Docker - Romain Pellerin's Blog</title>

        <link href="//romainpellerin.eu/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Romain Pellerin's Blog Atom Feed" />
        <link href="//romainpellerin.eu/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Romain Pellerin's Blog RSS Feed" />
    </head>
    <body>
        <div id="wrapper">

<nav class="flexbox-row">
    <a class="center" href="//romainpellerin.eu/">Homepage</a>
    <span class="center">|| Blog:</span>
    <a class="center" href="//romainpellerin.eu/archives.html">Archives (all posts)</a>
    <a class="center" href="//romainpellerin.eu/categories.html">Categories</a>
    <a class="center" href="//romainpellerin.eu/tags.html">Tags</a>
    <a class="center" href="//romainpellerin.eu/feeds/rss.xml">RSS feed</a>
    <a class="center" href="//romainpellerin.eu/feeds/atom.xml">Atom feed</a>
</nav><header class="article-header center">
    <p id="back-line" class="small grey"><span>
<time datetime="2022-07-05T12:30:00+02:00">Tue 05 July 2022</time> - Last update: <time datetime="2022-07-15T11:53:00+02:00">Fri 15 July 2022</time>        </p>
    <h1>Docker</h1>
    <div class="grey">
        <p class="italic">My cheatsheet for Docker</p>
        <p class="small">
            &#128338; <span title="Based on a 200 words per minute reading speed. This article has a total of 301 words.">2 min read</span>
        </p>
<p class="small">Category: <a title="Go to the category" href="//romainpellerin.eu/category/linux.html">Linux</a></p><p class="small">Tags: <a title="Go to the tag" href="//romainpellerin.eu/tag/docker.html">docker</a>, <a title="Go to the tag" href="//romainpellerin.eu/tag/linux.html">linux</a>, <a title="Go to the tag" href="//romainpellerin.eu/tag/container.html">container</a></p>    </div>
</header>
<article>
    <p><strong>WIP ARTICLE</strong></p>
<p>Up until now, Docker has always been a mystery to me. Mostly because I never took time to dive into it. For the past year, I was lucky enough to have David Gageot as my manager at Doctolib. As far as I know, he was one of the early contributors to it, and remains to this day one of the main contributors. Docker has no secrets for him. Here is a video starring David himself, a year after Docker was released to the public:</p>
<iframe width="700" height="394" src="https://www.youtube-nocookie.com/embed/d3bUoz_G2VU?rel=0" frameborder="0" allowfullscreen></iframe>

<p>During his time at Doctolib, I learned quite a lot. And I kept feeding my interest for Docker even after he left. Therefore this article serves as my personal cheatseet for Docker. It is a collection of basic knownledge and advanced tricks.</p>
<ul>
<li>Docker images can run nested Docker images (not advisable for production)</li>
<li><code>FROM &lt;image name&gt;</code>: sets the base image for our Docker image</li>
<li><code>WORKDIR /home/yolo</code> creates the <code>/home/yolo</code> directory</li>
<li><code>CMD</code> vs <code>RUN</code>: <code>RUN</code> is a build step, it creates a layer in the docker image and is therefore cached. <code>CMD</code> is the command to execute when runnning a docker image. If the command outputs something in stdin, it can be reused by other Docker images (see below).</li>
<li><code>ADD . /home/yolo</code> copy the output of the base image (through stdin) to <code>/home/app</code>. If the base image (<code>FROM xxx</code>) output assets as a result of its <code>CMD</code> command, the files will end up in <code>/home/yolo</code>.</li>
<li><a href="https://stackoverflow.com/questions/37513511/whats-the-difference-between-the-docker-commands-run-build-and-create">What's the difference between the docker commands: run, build, and create</a></li>
<li>
<p>Basic common commands:</p>
<ul>
<li><code>docker build -t toto .</code>: builds an image from the Dockerfile in the current folder and labels it "toto"</li>
<li><code>docker run --init --rm -ti toto bash</code>: starts a new container from the image labeled "toto" and opens a shell in it</li>
</ul>
</li>
</ul>
<h1 id="resources">Resources</h1>
<ul>
<li><a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/">Best practices for writing Dockerfiles</a></li>
</ul>
</article>
<footer class="grey italic small">
    Last update: Fri 15 July 2022</footer>

        </div> <!-- WRAPPER -->
    </body>
</html>