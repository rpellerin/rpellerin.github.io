<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="author" content="Romain Pellerin" />
        <meta name="keywords" content="romain pellerin, romain, pellerin, portfolio, site personnel, personal website, blog, kdenlive, davinci resolve, video" />
        <meta name="geo.placename" content="San Francisco, California, USA" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="all" />
        <link rel="stylesheet" href="https://romainpellerin.eu/theme/css/main.css" type="text/css" />
        <link rel="shortcut icon" href="https://romainpellerin.eu/favicon.ico" />

        <script>
        function _dntEnabled(dnt, userAgent) {
            'use strict';

            // for old version of IE we need to use the msDoNotTrack property of navigator
            // on newer versions, and newer platforms, this is doNotTrack but, on the window object
            // Safari also exposes the property on the window object.
            var dntStatus = dnt || navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
            var ua = userAgent || navigator.userAgent;

            // List of Windows versions known to not implement DNT according to the standard.
            var anomalousWinVersions = ['Windows NT 6.1', 'Windows NT 6.2', 'Windows NT 6.3'];

            var fxMatch = ua.match(/Firefox\/(\d+)/);
            var ieRegEx = /MSIE|Trident/i;
            var isIE = ieRegEx.test(ua);
            // Matches from Windows up to the first occurance of ; un-greedily
            // http://www.regexr.com/3c2el
            var platform = ua.match(/Windows.+?(?=;)/g);

            // With old versions of IE, DNT did not exist so we simply return false;
            if (isIE && typeof Array.prototype.indexOf !== 'function') {
                return false;
            } else if (fxMatch && parseInt(fxMatch[1], 10) < 32) {
                // Can't say for sure if it is 1 or 0, due to Fx bug 887703
                dntStatus = 'Unspecified';
            } else if (isIE && platform && anomalousWinVersions.indexOf(platform.toString()) !== -1) {
                // default is on, which does not honor the specification
                dntStatus = 'Unspecified';
            } else {
                // sets dntStatus to Disabled or Enabled based on the value returned by the browser.
                // If dntStatus is undefined, it will be set to Unspecified
                dntStatus = { '0': 'Disabled', '1': 'Enabled' }[dntStatus] || 'Unspecified';
            }
            return dntStatus === 'Enabled' ? true : false;
        }
        if (!_dntEnabled()) {
            // Analytics here
        }
        </script>

        <!-- Social media -->
        <meta name="description" content="I'm switching from Kdenlive to DaVinci Resolve, here's why and a few tips" />
        <meta property="og:image" content="https://romainpellerin.eu/theme/img/romain_pellerin-4x.jpg" />
        <meta property="og:title" content="Farewell Kdenlive, Hello DaVinci Resolve. And colors explained. - Romain Pellerin's Blog" />
        <meta property="og:description" content="I'm switching from Kdenlive to DaVinci Resolve, here's why and a few tips" />
        <meta property="og:url" content="https://romainpellerin.eu/farewell-kdenlive-hello-davinci-resolve-and-colors-explained.html" />

        <title>Farewell Kdenlive, Hello DaVinci Resolve. And colors explained. - Romain Pellerin's Blog</title>

        <link href="//romainpellerin.eu/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Romain Pellerin's Blog Atom Feed" />
        <link href="//romainpellerin.eu/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Romain Pellerin's Blog RSS Feed" />
    </head>
    <body>
        <div id="wrapper">

<nav class="flexbox-row">
    <a class="center" href="https://romainpellerin.eu/">Homepage</a>
    <span class="center">|| Blog:</span>
    <a class="center" href="https://romainpellerin.eu/archives.html">All articles</a>
    <a class="center" href="https://romainpellerin.eu/categories.html">Categories</a>
    <a class="center" href="https://romainpellerin.eu/tags.html">Tags</a>
    <a class="center" href="//romainpellerin.eu/feeds/rss.xml">RSS feed</a>
    <a class="center" href="//romainpellerin.eu/feeds/atom.xml">Atom feed</a>
</nav><header class="article-header center">
    <p id="back-line" class="small grey"><span>
<time datetime="2024-09-18T20:00:00+02:00">Wed 18 September 2024</time> - Last update: <time datetime="2025-02-02T23:41:00+01:00">Sun 02 February 2025</time>        </p>
    <h1>Farewell Kdenlive, Hello DaVinci Resolve. And colors explained.</h1>
    <div class="grey">
        <p class="italic">I'm switching from Kdenlive to DaVinci Resolve, here's why and a few tips</p>
        <p class="small">
            &#128338; <span title="Based on a 200 words per minute reading speed. This article has a total of 2321 words.">12 min read</span>
        </p>
<p class="small">Category: <a title="Go to the category" href="https://romainpellerin.eu/category/computers.html">Computers</a></p><p class="small">Tags: <a title="Go to the tag" href="https://romainpellerin.eu/tag/kdenlive.html">kdenlive</a>, <a title="Go to the tag" href="https://romainpellerin.eu/tag/davinci-resolve.html">davinci resolve</a>, <a title="Go to the tag" href="https://romainpellerin.eu/tag/video.html">video</a></p>    </div>
</header>
<article>
    <p>I've been <a href="https://romainpellerin.eu/video-editing-on-linux.html">a long time fan of Kdenlive</a>, but now has come a time for change. Kdenlive is great but it's got limitations. Transitions are pretty basic, for example. Also, 10-Bit and/or HDR is not (fully) supported. Overall, the program is not as polished as a professional-grade one. That's why I decided to change and find a better video editing application. And I've settled for DaVinci Resolve, the free version (more than enough for my needs).</p>
<p>Before starting any new project, make sure that all cameras have similar settings: resolution, framerate, and more importantly, HDR or not! (pick Rec.2020 for HDR, and Rec.709 for SDR). <a href="https://www.reddit.com/r/VideoEditing/comments/jqqixz/hdr_and_sdr_mixed_into_same_project/">You cannot easily mix SDR and HDR footage in the same project.</a></p>
<p>Up until now, I've not been able to properly "downgrade" a HDR footage into a SDR project in DaVinci Resolve. But I've been sort of successful with the opposite (importing SDR footage into a HDR project and using the "Color Space Transform" effect, from Rec.709 to Rec.2100 HLG). The output colors are different but close enough.</p>
<p>Below you'll find my settings.</p>
<h1 id="general-settings">General settings</h1>
<p>When working with non mixed footage, that is only HDR or only SDR, I would recommend turning on <a href="https://youtu.be/RBctM2c4GQI?t=369">the option <code>Use Mac Display Color Profile for viewers</code></a> in the settings of DaVinci.</p>
<h1 id="project-settings">Project settings</h1>
<ul>
<li>Resolution: 3840 x 2160 (4K)</li>
<li>FPS: 30 (or 29.97, depending on the camera)</li>
<li>
<p>In <code>Color Management</code>:</p>
<ul>
<li><code>Color science</code>: <a href="https://youtu.be/CTAzjAReZvs?t=638"><code>DaVinci YRGB Color Managed</code></a>. I'm not sure what the difference is with non color managed, but I think I understood that when it's not color managed, <a href="https://youtu.be/CTAzjAReZvs?t=182">DaVinci assumes nothing and does not perform automatic conversation from RAW footage to timeline color space</a>. But for my use cases, Color Managed is perfect and just works.</li>
<li>Untick <code>Automatic color management</code></li>
<li><code>Color processing mode</code>: <code>HDR DaVinci Wide Gamut Intermediate</code></li>
<li><code>Output color space</code>: <code>Rec.2100 HLG</code> (just like the videos shot natively with my Google Pixel)</li>
</ul>
</li>
</ul>
<p>When dealing with non-HDR footage, everything should be Rec.709. <a href="https://youtu.be/_nhlHD4wiDU?t=256">Gamma should be 2.4, even for web deliverables</a>. <a href="https://youtu.be/1QlnhlO6Gu8?t=1388">Don't bother with Rec.709-A (Mac specific).</a> For the color processing mode, keep "DaVinci Wide Gamut Intermediate".</p>
<p>A general rule of thumb is "2.2 is aimed to people looking at the screen on a bright lighted room, 2.4 is for dim light room, 2.6 for pitch dark room like movie theater". (<a href="https://www.reddit.com/r/colorists/comments/176b1fb/comment/k4l1imm/"><em>source</em></a>)</p>
<p>More on color management and gamma:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=8geDbNpH5cI">PRO Explains where you may be going wrong in just 10 minutes!</a></li>
<li><a href="https://www.cined.com/quicktime-gamma-shift-bug-what-is-it-and-how-to-combat-it/">Quicktime Gamma Shift Bug â€“ What Is It and How to Combat It</a>: by default, what you see in DaVinci won't be what you see in QuickTime. Use VLC. Or change some settings, but read the article first to know which ones.</li>
<li><a href="https://www.youtube.com/watch?v=1QlnhlO6Gu8">Quicktime Color Management: why so many ISSUES?!</a>: another video on the Quicktime Gamma bug</li>
<li><a href="https://www.reddit.com/r/colorists/comments/1c8c25i/can_someone_explain_what_rec_709_as_a_gamma_tag/">Can someone explain what Rec 709 as a gamma tag means?</a></li>
</ul>
<h1 id="export-settings">Export settings</h1>
<p>2024 is also the year I'll be switching my default filming resolution from 1080p to 4k, since apparently <a href="https://www.reddit.com/r/videography/comments/xxprwo/best_settings_to_upload_to_youtube_vmaf_analysis/">Youtube deteriorates less the quality with 4k videos</a> (the conclusion of the thread is that the best export settings are H265, 4k, 60mbit for 24-30fps or 120mbit for 60fps).</p>
<p>In DaVinci Resolve, when selecting MP4 as the format, and H.265 as the code, you get two options below:</p>
<ul>
<li><code>Use hardware acceleration if available</code>: that goes without saying, tick it</li>
<li><code>Network Optimization</code>: <a href="https://forum.blackmagicdesign.com/viewtopic.php?f=21&amp;t=190400">this is the equivalent of <code>-movflags +faststart</code> for <code>ffmpeg</code></a>. This does not change the quality of the file, nor its size, and makes playback over a network faster, so you might as well tick it.</li>
</ul>
<p>Then, export in 4K (3840 x 2160). If the project resolution is lower, the image will be upscaled, which will degrade the quality.</p>
<p>Make sure the output FPS is the same as the project/timeline FPS, that is 30 or 29.97 FPS.</p>
<p>To avoid getting too big of a file, I pick a custom bitrate of 25000 Kb/s for the file I will keep backed up. But for the file uploaded to Youtube, <a href="https://youtu.be/oOGZ0PfDSxM?t=351">it is recommended to input a bigger number</a>. See <a href="https://support.google.com/youtube/answer/1722171#zippy=%2Cbitrate">Youtube's official recommendations</a>. Usually, 50000 Kbps for a 4K video is good enough.</p>
<p><a href="https://forum.blackmagicdesign.com/viewtopic.php?p=1080855#p1080855">Do not tick "Optimize for speed".</a></p>
<p><code>Encoding Profile</code>: <code>Main10</code> (no need to pick 4:2:2 as Google Pixel videos are in 4:2:0).</p>
<p>Leave <code>Frame reordering</code> ticked, as well as the rest of the settings.</p>
<p><br />
<br /></p>
<p>Now let's study colors...</p>
<h1 id="some-acronyms-and-vocabulary">Some acronyms and vocabulary</h1>
<ul>
<li><em>CST</em>: Color Space Transform</li>
<li><em>DWG</em>: DaVinci Wide Gamut</li>
<li><em>RCM</em>: Resolve Color Management. A system designed to provide consistent color accuracy across different devices and formats. <a href="https://youtu.be/_EJ7lA0bSzo?t=248">This is a synonym for DaVinci Wide Gamut.</a></li>
<li><em>ACES</em>: Academy Color Encoding System (an alternative to DWG). <a href="https://youtu.be/AAeZKZ5feGA?t=428">It is an industry standard color space, that works on multiple applications, unlike DWG that is DaVinci-exclusive.</a></li>
<li><em>Nit</em>: a unit of luminance, officially name "Candela per square metre". In other words, a unit of measurement used to quantify the brightness of electronic displays. Other units that measure other aspects of light are Lumen and Lux.</li>
<li><em>EOTF</em>: Electro-optical Transfer</li>
<li><em>LUT</em>: Look-Up Table</li>
<li><em>Display-referred color grading/workflow</em>: <a href="https://youtu.be/CTAzjAReZvs?t=26">grading manually based on what you observe on screen, without any knowledge about the input color space</a>. <a href="https://youtu.be/_EJ7lA0bSzo?t=1180">The opposite is known as <em>scene-referred workflow</em> (or <em>color managed workflow</em>).</a></li>
</ul>
<h1 id="8-bit-vs-10-bit">8-bit vs 10-bit</h1>
<p><img alt="Banding in a 8-bit image" src="https://www.everlearn.nl/wp-content/uploads/2016/11/color-banding.png?_gl=1*1802gmv*_up*MQ..*_ga*NjI1MjM4NDQ0LjE3MjY2NzU4MzI.*_ga_ZR0WD7KF8X*MTcyNjY3NTgzMS4xLjAuMTcyNjY3NTgzMS4wLjAuMA.."></p>
<p><a href="https://www.reddit.com/r/4kTV/comments/tm3doe/hdr_vs_sdr_vs_10_bit_vs_8_bit/">Source</a>:</p>
<blockquote>
<p>First of all, 10 bit HDR is not one thing, they are two things. That's why sometimes you see 10 bit SDR as well. One refers to the color range (8-bit vs 10 bit), and the other refers to the dynamic range (SDR vs HDR).</p>
<p>8 bits or 10 bits? Most of our lives, we've been watching the world in 8-bit color. When you break down what 8-bit color is, it refers to the number of gradations in each of the primary colors. When you hear 8-bit, that means there are 256 discrete possible gradations. That is 256 levels of red, 256 levels of green, and 256 levels of blue, since red, green and blue are the basic colors of each pixel on your TV set. When your TV combines these three colors in all their 256 possible gradations you end up with 256 x 256 x 256 = 16,777,216 (16.7 million) colors! That should be sufficient for most video, right? Well, not when you're doing professional photography or filming.</p>
<p>There are times when you might have seen an effect called banding on your TV set. These are areas where the gradients are not as smooth in transitioning between subtle color differences. Instead, they look like bands of similar looking colors. This may be apparent in some blue sky scenes when looking at the horizon, or when there is a slow fade to black transition between scenes. Of course, this depends on how your TV processes the colors, then type of input you use, the player you're using to decode the video, or how the content you're watching is encoded.</p>
<p>So, here's where 10-bit color comes to the rescue. With 10 bit color, you get 1024 gradations for each of the primary colors, resulting in a whooping 1,073,741,824 colors. That's over 1 billion colors! That oughta get rid of those bands and give you smoother gradients.</p>
</blockquote>
<hr>
<p>Some monitor or TV are "10-bit like" but not truly 10-bit, they are in fact <a href="https://www.benq.com/en-us/knowledge-center/knowledge/10-bit-vs-8-bit-frc-monitor-color-difference.html">"8 bit + FRC"</a>.</p>
<h1 id="sdr-vs-hdr">SDR vs HDR</h1>
<p><a href="https://www.reddit.com/r/4kTV/comments/tm3doe/hdr_vs_sdr_vs_10_bit_vs_8_bit/">Source</a>:</p>
<blockquote>
<p>HDR or SDR? Most of our lives, we've been watching the world in SDR, or Standard Dynamic Range. Now, with newer TVs, we get this feature called HDR, or High Dynamic Range. This refers to how bright or how dark your pixels on your TV are capable of representing luminosity in the video. Instead of just adding artificial contrast to the image, HDR actually controls the individual luminosity for each pixel. This effect looks even nicer on OLED TVs which causes the image to look more realistic. Light bulbs in the background of a dark scene appear as if they are really there and the difference between dark and bright spots is less likely to be washed out.</p>
<p>One of the limitations of older TV sets all this time, was the brightness bleeding effect of bright objects next to dark ones on the same scene. If your TV supports HDR, you can have a bright white object shining at maximum brightness, and it will not affect how a dark object in the next pixel looks like. HDR, therefore, preserves details in scenes where the contrast ratio of the monitor could otherwise be a hindrance.</p>
<p>For those unfamiliar with photography, dynamic range is measured in stops, comparable to the aperture of a camera. Pictures on a typical SDR display would have a dynamic range of about 6 stops. HDR information, but on the other side, has the potential to almost triple this dynamic range, with a total of 17.6 stops.</p>
</blockquote>
<hr>
<p>It is commonly admitted that "<a href="https://www.reddit.com/r/linuxquestions/comments/143p9mz/comment/jndhhje/">HDR is a combination of three things</a>" (although <a href="https://www.reddit.com/r/4kTV/comments/tm3doe/comment/i1zjkln/">technically HDR has nothing to do with 8 or 10 bits</a>):</p>
<ul>
<li>More than 8 (usually 10) bits per subpixel</li>
<li>Displays with a higher than usual peak brightness and contrast ratio (usually oled, or an lcd with full array local dimming)</li>
<li>All the required metadata to make proper use of the above</li>
</ul>
<hr>
<p><a href="https://www.reddit.com/r/gopro/comments/xe0wfx/comment/ioe0u1z/">Source</a>:</p>
<blockquote>
<p>HDR refers to the dynamic range. How much the camera can capture from complete white to complete dark. It's also intertwined with the gamuts of the camera. You need a wider gamut and 10+ bit color depth to get a somewhat pleasing HDR effect to look good.</p>
</blockquote>
<h1 id="hdr10-vs-dolby-vision-vs-hdr10-vs-hlg">HDR10 vs Dolby Vision vs HDR10+ (vs HLG)</h1>
<p><a href="https://www.reddit.com/r/4kTV/comments/tm3doe/hdr_vs_sdr_vs_10_bit_vs_8_bit/">Source</a>:</p>
<blockquote>
<p>There are two popular HDR standards, Dolby Vision and HDR10. Since HDR10 is open source, it has been much more widely adopted than Dolby Vision. Both HDR formats use metadata in the video stream to determine how bright pixels should light up in the display. With HDR10, a fixed metadata range is declared at the start of the stream, and it remains for the entire length of the video, whereas Dolby Vision is capable of dynamic metadata from one scene to the next. There is an upgrade to HDR10 called HDR10+ which adds dynamic metadata just like Dolby Vision. Overall, you can think of HDR as the ability of the video stream to adjust your contrast and brightness levels on your TV set for each pixel separately, as opposed to your brightness and contrast menus which affect the entire picture at once.</p>
</blockquote>
<hr>
<p><a href="https://en.wikipedia.org/wiki/HDR10">Competing formats to HDR10 are Dolby Vision and HDR10+ (which do provide dynamic metadata, allowing to preserve the creative intents on each display and on a scene by scene or frame by frame basis), and also HLG (which provides some degree of backward compatibility with SDR).</a></p>
<hr>
<p><a href="https://en.wikipedia.org/wiki/HDR10%2B">HDR10+ and Dolby Vision do not use the same dynamic metadata.</a></p>
<h1 id="transfer-functions-gamma-24-vs-hdr-pg-vs-hdr-hlg">Transfer functions: Gamma 2.4 vs HDR PG vs HDR HLG</h1>
<p>PQ is for "Perceptual Quantize", the standard is known as ST.2084. HLG is for "Hybrid Log-Gamma".</p>
<p><a href="https://en.wikipedia.org/wiki/Rec._2100#Transfer_functions">Both were introduced with Rec2100</a> (see next section). Prior to Rec2100, Rec709 and Rec2020 were using <a href="https://en.wikipedia.org/wiki/ITU-R_BT.1886">Gamma 2.4 (known as ITU-R BT.1886)</a>.</p>
<p>As written in the section above, HLG is opposed to HDR10, Dolby Vision and HDR10+.</p>
<p><a href="https://lightillusion.com/what_is_hdr.html">This page</a> says:</p>
<blockquote>
<p>PQ HDR defines HDR10, HDR10+, and Dolby Vision, as all use the same target colour space - Rec2020 Gamut, with the same PQ EOTF. Consequently, calibration for all is basically identical. HLG based HDR is different.</p>
</blockquote>
<p>The rest of the page is extremely detailed and full of information.</p>
<p>Some things to remember:</p>
<ul>
<li>PQ gives absolute values for light output</li>
<li>HLG gives relative values</li>
</ul>
<blockquote>
<p>One of the often overlooked potential issues with PQ based HDR for home viewing is that because the standard is absolute there is no way to increase the display's light output to overcome surrounding room light levels - the peak brightness cannot be increased, and neither can the fixed gamma (EOTF) curve.</p>
<p>As mentioned above, with PQ based HDR the Average Picture Level (APL) will approximately match that of regular SDR (standard dynamic range) imagery. The result is that in less than ideal viewing environments, where the surrounding room brightness level is relatively high, the bulk of the PQ HDR image will appear very dark, with shadow detail potentially becoming very difficult to see. This is still true with a diffuse white target of 200 nits, rather than the original 100 nits diffuse white.</p>
<p>But, having said that, HLG based HDR has its own issues if the peak luma of the display is below approx. 1000 nits, as the average picture level of the HDR image will appear dimmer than the equivalent SDR image.</p>
<p>HDR10 uses Static metadata, while Dolby Vision and HDR10+ use Dynamic.</p>
<p>And non-PQ based HDR, such as HLG, has no need for metadata. One of the major differences in using a relative based HDR standard, rather than absolute.</p>
</blockquote>
<p>I've read on other websites that Dolby Vision also works with HLG, not just PQ.</p>
<h1 id="rec709-vs-rec2020-vs-rec2100">Rec709 vs Rec2020 vs Rec2100</h1>
<p>Those are color gamuts (a set of displayable colors).</p>
<p>Rec709 is generally for SDR.</p>
<p>Rec2020 and Rec2100 are commonly used for HDR. Rec2020 can also be used for SDR. They are both refered to as Wide Color Gamuts (WCG).</p>
<p>Rec2020 (or Rec.2020) is an abbreviation for "<em>ITU-R Recommendation BT.2020</em>".</p>
<p><a href="https://en.wikipedia.org/wiki/Rec._2100#System_colorimetry">Rec. 2100 uses the same color primaries as Rec. 2020 which is a Wide Color Gamut</a> (meaning <a href="https://en.wikipedia.org/wiki/Gamut#Wide_color_gamut">a color gamut wider than that of BT.709</a>).</p>
<p><a href="https://youtu.be/IXYKhZdGF6s?t=109">Rec709 is recommendations for HD. Rec2020 for UHD (Ultra HD). Rec2100 for HDR.</a></p>
<h1 id="422-vs-420">4:2:2 vs 4:2:0</h1>
<p><a href="https://en.wikipedia.org/wiki/Chroma_subsampling">Chroma Subsampling, on Wikipedia.</a></p>
<p><a href="https://www.reddit.com/r/4kTV/comments/tm3doe/comment/i21n8df/">Short explanation on Reddit here.</a></p>
<h1 id="linux-support-for-10-bit-andor-hdr">Linux support for 10-bit and/or HDR</h1>
<p><a href="https://www.reddit.com/r/linux_gaming/comments/mk2q0j/buying_a_monitor_for_hdr10bit_pointless_on_linux/">As of 2024, HDR is not supported on Linux. 10-bit is partially supported but not enabled by default.</a> <a href="https://linuxreviews.org/HOWTO_enable_10-bit_color_on_Linux">Here is how to turn on 10-bit on Linux.</a> Of course the GPU needs to support it.</p>
<p>On Linux, playing a HDR video in VLC will show a washed-out video, <a href="https://www.reddit.com/r/linuxquestions/comments/143p9mz/comment/jnbxar8/">but using MPV the colors will be "translated" into SDR and the video will look very nice</a>.</p>
<h1 id="monitors-and-tv-support-for-hdr">Monitors and TV support for HDR</h1>
<p><a href="https://www.reddit.com/r/linux_gaming/comments/mk2q0j/comment/gte1gj1/">Unless a monitor is labeled HDR1000, it is not true HDR.</a> <a href="https://www.reddit.com/r/Monitors/comments/12cl67z/how_to_know_if_a_monitor_has_real_hdr/">This other Reddit thread more or less says the same.</a></p>
</article>
<footer class="grey italic small">
    Last update: Sun 02 February 2025</footer>

        </div> <!-- WRAPPER -->
    </body>
</html>